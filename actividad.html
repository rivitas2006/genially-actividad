<div id="actividad" style="font-family: Arial; text-align:center; color:#333;">

  <!-- Cuadros vac√≠os -->
  <div id="cuadros" style="display:flex; gap:10px; flex-wrap:wrap;">
    <div class="cuadro1" data-pos="A"></div>
    <div class="cuadro2" data-pos="B"></div>
    <div class="cuadro3" data-pos="C"></div>
    <div class="cuadro4" data-pos="D"></div>
    <div class="cuadro5" data-pos="E"></div>
  </div>

  <!-- Frases para arrastrar -->
  <div id="contenedor-frases" style="display:flex; gap:10px; flex-wrap:wrap; text-align: center;">
    <div draggable="true" id="1" class="opcion1">El le√≥n atrap√≥ al rat√≥n.</div>
    <div draggable="true" id="2" class="opcion2">El rat√≥n prometi√≥ ayudarle alg√∫n d√≠a.</div>
    <div draggable="true" id="3" class="opcion3">El le√≥n cay√≥ en una red.</div>
    <div draggable="true" id="4" class="opcion4">El rat√≥n cort√≥ las cuerdas y lo liber√≥.</div>
    <div draggable="true" id="5" class="opcion5">El le√≥n y el rat√≥n se hicieron amigos.</div>
  </div>

  <!-- Bot√≥n revisar -->
  <button id="revisar" style="margin-top:20px; padding:10px 20px; font-size:16px; background:#ffb703; border:none; border-radius:8px; cursor:pointer;">
    Revisar respuestas
  </button>

  <!-- Resultado -->
  <p id="resultado" style="margin-top:15px; font-weight:bold;"></p>

  <!-- üîπ NUEVO: Bot√≥n continuar (oculto al inicio) -->
  <button id="continuar" style="display:none; margin-top:15px; padding:10px 20px; background:#06d6a0; border:none; border-radius:8px; cursor:pointer; font-size:16px;">
    Continuar ‚ûú
  </button>
</div>

<style>
  /* üîπ No se cambi√≥ nada, se deja exactamente igual */
  .opcion1 {
    background:#FFD60A;
    color: #000;
    border:4px solid #000;
    border-radius:4px;
    padding:10px;
    width:260px;
    cursor:grab;
    font-family: 'Bangers', cursive;
    font-size: 16px;
    letter-spacing: 1px;
    text-transform: uppercase;
    box-shadow: 2px 2px 0 #000;
  }
  .opcion2 {
    background:#FFD60A;
    color: #000;
    border:4px solid #000;
    border-radius:4px;
    padding:10px;
    width:260px;
    cursor:grab;
    font-family: 'Bangers', cursive;
    font-size: 16px;
    letter-spacing: 1px;
    text-transform: uppercase;
    box-shadow: 2px 2px 0 #000;
  }
  .opcion3 {
    background:#FFD60A;
    color: #000;
    border:4px solid #000;
    border-radius:4px;
    padding:10px;
    width:260px;
    cursor:grab;
    font-family: 'Bangers', cursive;
    font-size: 16px;
    letter-spacing: 1px;
    text-transform: uppercase;
    box-shadow: 2px 2px 0 #000;
  }
  .opcion4 {
    background:#FFD60A;
    color: #000;
    border:4px solid #000;
    border-radius:4px;
    padding:10px;
    width:260px;
    cursor:grab;
    font-family: 'Bangers', cursive;
    font-size: 16px;
    letter-spacing: 1px;
    text-transform: uppercase;
    box-shadow: 2px 2px 0 #000;
  }
  .opcion5 {
    background:#FFD60A;
    color: #000;
    border:4px solid #000;
    border-radius:4px;
    padding:10px;
    width:260px;
    cursor:grab;
    font-family: 'Bangers', cursive;
    font-size: 16px;
    letter-spacing: 1px;
    text-transform: uppercase;
    box-shadow: 2px 2px 0 #000;
  }
  .opcion:active { cursor:grabbing; }

  .cuadro1{
    width:200px;
    height:70px;
    border:2px dashed #999;
    border-radius:8px;
    display:flex;
    align-items:center;
    justify-content:center;
    border-color: black;
    background: white;
  }
  .cuadro2{
    width:180px;
    height:60px;
    border:2px dashed #999;
    border-radius:8px;
    display:flex;
    align-items:center;
    justify-content:center;
    margin-left: 30px;
    border-color: black;
    background: white;
  }
  .cuadro3{
    width:200px;
    height:70px;
    border:2px dashed #999;
    border-radius:8px;
    display:flex;
    align-items:center;
    justify-content:center;
    margin-left: 12px;
    margin-top: 8px;
    border-color: black;
    background: white;
  }
  .cuadro4{
    width:190px;
    height:70px;
    border:2px dashed #999;
    border-radius:8px;
    display:flex;
    align-items:center;
    justify-content:center;
    margin-left: 40px;
    border-color: black;
    background: white;
  }
  .cuadro5{
    width:200px;
    height:80px;
    border:2px dashed #999;
    border-radius:8px;
    display:flex;
    align-items:center;
    justify-content:center;
    margin-left: 30px;
    border-color: black;
    background: white;
  }
</style>

<script>
  const opciones = document.querySelectorAll('[class^="opcion"]'); 
  const cuadros = document.querySelectorAll('[class^="cuadro"]');
  const revisarBtn = document.getElementById('revisar');
  const resultado = document.getElementById('resultado');
  const btnContinuar = document.getElementById('continuar'); // üîπ nuevo bot√≥n

  // Orden correcto seg√∫n tu l√≥gica
  let ordenCorrecto = ["C","E","B","D","A"];
  
  opciones.forEach(op => {
    op.addEventListener('dragstart', e => {
      e.dataTransfer.setData('text', op.id);
      setTimeout(() => op.style.opacity = '0.5', 0);
    });
    op.addEventListener('dragend', () => {
      op.style.opacity = '1';
    });
  });
  
  cuadros.forEach(cuadro => {
    cuadro.addEventListener('dragover', e => e.preventDefault());
    cuadro.addEventListener('drop', e => {
      e.preventDefault();
      const idOp = e.dataTransfer.getData('text');
      const op = document.getElementById(idOp);

      if (cuadro.childElementCount === 0) {
        cuadro.appendChild(op);
        cuadro.style.borderStyle = "solid";
        cuadro.style.background = "#e0f7fa";
      }
    });
  });
  
  revisarBtn.addEventListener('click', () => {
    const ubicaciones = Array.from(opciones).map(op => {
      const contenedor = op.parentElement;
      return contenedor.dataset.pos;
    });

    if (ubicaciones.includes(undefined)) {
      resultado.textContent = "‚ö†Ô∏è Coloca todas las opciones antes de revisar.";
      resultado.style.color = "#e63946";
      btnContinuar.style.display = "none";
      return;
    }

    const correcto = JSON.stringify(ubicaciones) === JSON.stringify(ordenCorrecto);
    
    if (correcto) {
      resultado.textContent = "‚úÖ ¬°Correcto!";
      resultado.style.color = "#2a9d8f";
      btnContinuar.style.display = "inline-block"; // üîπ muestra el bot√≥n
    } else {
      resultado.textContent = "‚ùå Intenta de nuevo.";
      resultado.style.color = "#e63946";
      btnContinuar.style.display = "none";
    }
  });

  // üîπ Al presionar continuar, avanza de p√°gina
  btnContinuar.addEventListener('click', () => {
    window.location.href = "pagina2.html"; // ‚Üê c√°mbialo por la siguiente p√°gina en Genially
  });
</script>